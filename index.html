<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Dashboard Comercial - Policryl</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <link rel="stylesheet" href="styles.css"/>
</head>
<body>
  <div class="loading" id="loading">
    <div class="spinner"></div>
    <div class="loading-text">Carregando dados do Google Sheets...</div>
  </div>

  <div class="container">
    <div class="header">
      <div class="logo-section">
        <div class="logo">üî•</div>
        <div class="title">
          <h1>POLICRYL</h1>
          <p>Dashboard Comercial em Tempo Real</p>
        </div>
      </div>
      <div class="filters">
        <div class="filter-group">
          <label for="filterAno">ANO</label>
          <select id="filterAno" onchange="updateDashboard()"></select>
        </div>
        <div class="filter-group">
          <label for="filterMes">M√äS</label>
          <select id="filterMes" onchange="updateDashboard()">
            <option value="01">Janeiro</option>
            <option value="02">Fevereiro</option>
            <option value="03">Mar√ßo</option>
            <option value="04">Abril</option>
            <option value="05">Maio</option>
            <option value="06">Junho</option>
            <option value="07">Julho</option>
            <option value="08">Agosto</option>
            <option value="09">Setembro</option>
            <option value="10">Outubro</option>
            <option value="11">Novembro</option>
            <option value="12">Dezembro</option>
          </select>
        </div>
        <div class="filter-group">
          <label for="filterLinha">LINHA</label>
          <select id="filterLinha" onchange="updateDashboard()">
            <option value="todas">Todas</option>
            <option>FRA - Brasil Cacau</option>
            <option>FRA - Cacau Show</option>
            <option>FRA - Kopenhagen</option>
            <option>IND - Industries</option>
            <option>PLB - PolyBee</option>
            <option>SKD - Skullderia</option>
          </select>
        </div>
      </div>
    </div>

    <div class="kpis-grid">
      <div class="kpi-card primary">
        <div class="kpi-label">Meta do M√™s</div>
        <div class="kpi-value" id="metaMes">R$ 0</div>
        <div class="kpi-subtitle" id="mesRef"></div>
      </div>
      <div class="kpi-card primary">
        <div class="kpi-label">Meta do Dia</div>
        <div class="kpi-value" id="metaDia">R$ 0</div>
        <div class="kpi-subtitle">Hoje</div>
      </div>
      <div class="kpi-card success">
        <div class="kpi-label">Valor em Vendas</div>
        <div class="kpi-value" id="valorVendas">R$ 0</div>
        <div class="kpi-subtitle">Total faturado</div>
      </div>
      <div class="kpi-card danger">
        <div class="kpi-label">Pedidos em Atraso</div>
        <div class="kpi-value" id="pedidosAtraso">0</div>
        <div class="kpi-subtitle">Aten√ß√£o necess√°ria</div>
      </div>
      <div class="kpi-card warning">
        <div class="kpi-label">Pedidos √† Liberar</div>
        <div class="kpi-value" id="pedidosLiberar">0</div>
        <div class="kpi-subtitle">Aguardando aprova√ß√£o</div>
      </div>
      <div class="kpi-card success">
        <div class="kpi-label">Pedidos Expedidos</div>
        <div class="kpi-value" id="pedidosExpedidos">0</div>
        <div class="kpi-subtitle">Entregues no m√™s</div>
      </div>
    </div>

    <div class="historico-section">
      <div class="historico-card">
        <div class="chart-title">üìà Hist√≥rico Mensal - Or√ßamentos vs Vendas vs Meta</div>
        <div class="historico-chart"><canvas id="historicoChart"></canvas></div>
      </div>
    </div>

    <div class="charts-row">
      <div class="chart-card">
        <div class="chart-title">üí≥ Valores por Forma de Pagamento</div>
        <div class="chart-container"><canvas id="pagamentoChart"></canvas></div>
      </div>
      <div class="chart-card">
        <div class="chart-title">üó∫Ô∏è Pedidos por Regi√£o</div>
        <div class="chart-container"><canvas id="regiaoChart"></canvas></div>
      </div>
      <div class="chart-card">
        <div class="chart-title">üõí Compra: Primeira vs Recompra</div>
        <div class="chart-container"><canvas id="compraChart"></canvas></div>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
